class Solution {
public:
    vector<vector<int>> generateMatrix(int n) {
        int fN = n;
        vector<vector<int>> matrix(n + 1, vector<int>(n + 1, 0));
        if(n == 1){
            matrix[0][0] = 1;
            return matrix;
        }
        // 偶层数 = n / 2 . 奇层数 = n / 2 + 1
        int levels = n / 2;
        if (n % 2 == 1)++levels;
        int curL = 1; // 当前层数
        int i = 0, j = 0;
        int nums = 1;
        while (curL <= levels) {
            int firstI = i, firstJ = j;
            while (j < n - 1 + firstJ) {
                matrix[i][j] = nums++;
                ++j;
            }
            matrix[i][j] = nums++;
            ++i;

            while (i < n - 1 + firstJ) {
                matrix[i][j] = nums++;
                ++i;
            }

            matrix[i][j] = nums++;
            --j;

            while (j > firstJ) {
                matrix[i][j] = nums++;
                --j;
            }
            matrix[i][j] = nums++;
            --i;
            while (i > firstI) {
                matrix[i][j] = nums++;
                --i;
            }

            i = firstI + 1, j = firstJ + 1;
            ++curL;
            n = n - 2;
            if (n == 1) {
                matrix[i][j] = nums++;
                break;
            }
        }
        return matrix;
    }
};
